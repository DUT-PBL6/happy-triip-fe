<div class="passenger-form">
  <div class="card surface-0 p-4">
    <div class="flex justify-content-between">
      <h4 class="text-center mb-2">Passenger profile</h4>
    </div>
    <div class="form px-6 py-3">
      <form [formGroup]="passengerForm" (ngSubmit)="submit()" class="grid">
        <!-- NAME -->
        <div class="name col-12 py-2 flex flex-column">
          <label for="name" class="block text-900 text-lg font-medium mb-2">Name</label>
          <div class="input-container h-4rem">
            <input
              pInputText
              id="name"
              type="text"
              placeholder="Enter route name"
              class="w-full"
              formControlName="name"
              [ngClass]="{
                'ng-invalid ng-dirty': validate(name)
              }"
            />
            <small class="p-error" *ngIf="validate(name)">
              <strong>Name is required</strong>
            </small>
          </div>
        </div>
        <div class="username col-6 flex flex-column">
          <label for="username" class="block text-900 text-lg font-medium mb-2">Username</label>
          <div class="input-container">
            <input
              pInputText
              id="username"
              type="text"
              placeholder="Enter your username"
              class="w-full"
              formControlName="username"
              [ngClass]="{
                'ng-invalid ng-dirty': validate(username)
              }"
            />
            <small class="p-error" *ngIf="validate(username)">
              <strong>Username is required</strong>
            </small>
          </div>
        </div>
        <div class="password col-6 flex flex-column">
          <label for="password" class="block text-900 text-lg font-medium mb-2">Password</label>
          <div class="input-container">
            <p-password
              id="password"
              placeholder="Enter your password"
              [toggleMask]="true"
              [feedback]="false"
              formControlName="password"
              styleClass="w-full"
              [ngClass]="{
                'ng-invalid ng-dirty': validate(password)
              }"
            ></p-password>
            <small class="p-error" *ngIf="validate(password)">
              <strong>Password is required</strong>
            </small>
          </div>
        </div>
        <div class="email col-6 flex flex-column">
          <label for="email" class="block text-900 text-lg font-medium mb-2">Email</label>
          <div class="input-container">
            <input
              pInputText
              id="email"
              type="text"
              placeholder="Enter your email"
              class="w-full"
              formControlName="email"
              [ngClass]="{
                'ng-invalid ng-dirty': validate(email)
              }"
            />
            <small class="p-error" *ngIf="validate(email)">
              <strong>Email is required</strong>
            </small>

            <small class="p-error" *ngIf="email.touched && email.hasError('email')">
              <strong>Email must be a valid email</strong>
            </small>
          </div>
        </div>

        <div class="phone-number col-6 flex flex-column">
          <label for="phoneNumber" class="block text-900 text-lg font-medium mb-2">Phone number</label>
          <div class="input-container">
            <input
              pInputText
              id="phoneNumber"
              type="text"
              placeholder="Enter your phone number"
              class="w-full"
              formControlName="phoneNumber"
              [ngClass]="{
                'ng-invalid ng-dirty': validate(phoneNumber)
              }"
            />
            <small class="p-error" *ngIf="validate(phoneNumber)">
              <strong>Phone number is required</strong>
            </small>
          </div>
        </div>

        <!-- ACTIONS -->
        <div class="actions col-12 py-2 flex justify-content-end gap-2">
          <p-button
            *ngIf="isReadOnly && isUpdated"
            label="Update"
            styleClass="p-button-warning "
            class="col-4 md:col-2 pr-0 full-width-button"
            icon="pi pi-user-edit"
            iconPos="right"
            (click)="handleReadOnly()"
          ></p-button>

          <p-button
            *ngIf="!isReadOnly"
            label="Cancel"
            styleClass="p-button-danger p-button-outlined"
            class="col-4 md:col-2 pr-0 full-width-button"
            icon="pi pi-times"
            iconPos="right"
            (onClick)="cancelPassengerForm()"
          ></p-button>

          <p-button
            *ngIf="!isReadOnly"
            type="submit"
            class="col-4 md:col-2 pr-0 full-width-button"
            label="Save"
            icon="pi pi-save"
            iconPos="right"
          ></p-button>
        </div>
      </form>
    </div>
  </div>
  <div class="card surface-0 p-4">
    <div class="">
      <h5 class="mb-2">Change Password</h5>
      <div class="actions col-12 py-2 flex justify-content-end gap-2">
        <p-button (click)="handleChangePasswordAction()" icon="pi pi-check" label="Change"></p-button>
      </div>
    </div>
  </div>
</div>
